/**
 * Atomic Clock & Weather Display - Hardened & Optimized CSS
 * Performance-optimized with security considerations
 * Version: 2.0.0-Hardened
 */

/* CSS Reset and Base Styles */
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}

/* Security: Prevent text selection in kiosk mode */
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 50%,#f093fb 100%);color:#fff;height:100vh;width:100vw;overflow:hidden;margin:0;padding:0;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}

/* Performance: GPU acceleration for smooth animations */
.container{display:flex;flex-direction:column;height:100vh;width:100vw;padding:2rem;gap:2rem;max-height:100vh;max-width:100vw;box-sizing:border-box;will-change:transform}

/* Performance: Optimized font rendering */
.day-display{text-align:center;flex-shrink:0;max-height:50vh;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:2rem 0;overflow:visible}

.day-display h1{font-size:clamp(8rem,16vw,16rem);font-weight:200;line-height:1;margin:0;text-shadow:0 4px 20px rgba(0,0,0,0.3);letter-spacing:-0.02em;animation:fadeInUp 1s ease-out;will-change:transform,opacity}

.day-display p{font-size:clamp(1.2rem,2.5vw,1.8rem);font-weight:300;opacity:0.8;margin-top:0.5rem;text-shadow:0 2px 10px rgba(0,0,0,0.2)}

/* Performance: Optimized layout with CSS containment */
.content{display:flex;flex:1;gap:2rem;min-height:0;contain:layout style}

.time-section{flex:1.4;display:flex;align-items:center;justify-content:center;contain:layout}

.weather-section{flex:1;display:flex;align-items:center;justify-content:center;contain:layout}

.status-time{display:flex;flex-direction:column;align-items:center;gap:1rem}

/* Performance: Optimized text rendering */
.time{font-size:clamp(3rem,8vw,6rem);font-weight:300;line-height:1;white-space:nowrap;text-shadow:0 4px 20px rgba(0,0,0,0.3);animation:fadeInUp 1s ease-out;will-change:transform,opacity}

.date{font-size:clamp(1rem,2vw,1.5rem);font-weight:400;opacity:0.9;text-shadow:0 2px 10px rgba(0,0,0,0.2)}

.timezone{font-size:clamp(0.8rem,1.5vw,1rem);font-weight:300;opacity:0.7;text-shadow:0 1px 5px rgba(0,0,0,0.2)}

.city{font-size:clamp(0.9rem,1.8vw,1.2rem);font-weight:400;opacity:0.8;text-shadow:0 2px 10px rgba(0,0,0,0.2)}

/* Security: Hardened weather display with backdrop-filter */
.weather-display{display:flex;flex-direction:column;align-items:center;gap:1.5rem;padding:2rem;background:rgba(255,255,255,0.1);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:16px;border:1px solid rgba(255,255,255,0.2);box-shadow:0 8px 32px rgba(0,0,0,0.2);transition:all 0.3s cubic-bezier(0.25,0.46,0.45,0.94);cursor:pointer;will-change:transform;contain:layout style paint}

.weather-display:hover{background:rgba(255,255,255,0.15);transform:translateY(-2px);box-shadow:0 12px 40px rgba(0,0,0,0.3)}

.weather-main{display:flex;align-items:center;gap:1.5rem;contain:layout}

.weather-icon{font-size:clamp(3rem,6vw,4rem);filter:drop-shadow(0 2px 8px rgba(0,0,0,0.3));will-change:transform}

.temperature{font-size:clamp(2.5rem,5vw,3.5rem);font-weight:300;text-shadow:0 2px 10px rgba(0,0,0,0.3)}

.weather-info{text-align:left}

.weather-description{font-size:clamp(1rem,2vw,1.3rem);font-weight:400;margin-bottom:0.5rem;text-shadow:0 1px 5px rgba(0,0,0,0.2)}

.location{font-size:clamp(0.9rem,1.8vw,1.1rem);font-weight:300;opacity:0.8;text-shadow:0 1px 5px rgba(0,0,0,0.2)}

/* Performance: Optimized weather details */
.weather-details{display:flex;flex-direction:column;gap:0.8rem;width:100%;contain:layout}

.weather-detail-row{display:flex;justify-content:space-between;align-items:center;gap:1rem;padding:0.5rem 0;border-bottom:1px solid rgba(255,255,255,0.1)}

.weather-detail-label{font-size:clamp(0.8rem,1.5vw,1rem);opacity:0.7;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}

.weather-detail-value{font-size:clamp(0.8rem,1.5vw,1rem);font-weight:400;text-shadow:0 1px 3px rgba(0,0,0,0.2);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}

.weather-update-time{font-size:clamp(0.7rem,1.2vw,0.8rem);opacity:0.6;text-align:center;margin-top:0.5rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}

/* Performance: Optimized animations */
@keyframes fadeInUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}

@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}

@keyframes slideIn{from{transform:translateX(-100%)}to{transform:translateX(0)}}

/* Security: Hardened theme selector */
.style-selector{position:fixed;top:12px;right:12px;z-index:1000;background:rgba(0,0,0,0.85);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,0.15);border-radius:8px;padding:8px 10px;box-shadow:0 4px 20px rgba(0,0,0,0.3),0 2px 8px rgba(0,0,0,0.2),inset 0 1px 0 rgba(255,255,255,0.1);display:flex;flex-direction:column;align-items:center;gap:8px;font-size:12px;cursor:move;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:all 0.2s cubic-bezier(0.25,0.46,0.45,0.94);min-width:160px;max-width:200px;opacity:0.9;height:auto;overflow:visible;will-change:transform;contain:layout style}

.style-selector:hover{opacity:1;transform:translateY(-1px);box-shadow:0 6px 25px rgba(0,0,0,0.4),0 4px 12px rgba(0,0,0,0.3)}

.style-selector:active{transform:translateY(0)}

.style-selector::before{content:'⋮⋮';position:absolute;top:2px;left:50%;transform:translateX(-50%);font-size:8px;color:rgba(255,255,255,0.3);letter-spacing:2px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}

.style-selector-label{font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:1px;color:rgba(255,255,255,0.7);margin-bottom:4px;text-shadow:0 1px 2px rgba(0,0,0,0.5);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}

/* Security: Safe form controls */
.style-selector select{width:100%;background:rgba(255,255,255,0.1);color:#fff;border:1px solid rgba(255,255,255,0.2);border-radius:4px;padding:6px 8px;font-size:10px;font-weight:500;cursor:pointer;outline:none;transition:all 0.2s ease;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12"><path fill="rgba(255,255,255,0.6)" d="M6 9L1 4h10z"/></svg>');background-repeat:no-repeat;background-position:right 6px center;background-size:12px;padding-right:20px;will-change:transform}

.style-selector select:hover{background:rgba(255,255,255,0.15);border-color:rgba(255,255,255,0.3)}

.style-selector select:focus{background:rgba(255,255,255,0.2);border-color:rgba(255,255,255,0.4);box-shadow:0 0 0 2px rgba(255,255,255,0.1)}

.style-selector select option{background:#333;color:#fff}

.theme-controls{display:flex;flex-direction:column;gap:6px;overflow:visible;height:auto;width:100%;align-items:center;contain:layout}

.control-row{display:flex;align-items:center;justify-content:center;gap:4px;overflow:visible;height:auto;min-height:24px;width:100%}

/* Security: Safe checkbox styling */
.auto-rotate-label{display:flex;align-items:center;gap:4px;color:#fff;font-size:9px;font-weight:600;text-shadow:0 1px 2px rgba(0,0,0,0.8);cursor:pointer;white-space:nowrap;padding:2px 4px;border-radius:4px;transition:all 0.2s cubic-bezier(0.4,0,0.2,1);background:rgba(255,255,255,0.1);border:1px solid rgba(255,255,255,0.15);opacity:0.8;user-select:none}

.auto-rotate-label:hover{background:rgba(255,255,255,0.15);border-color:rgba(255,255,255,0.25);transform:translateY(-1px);opacity:1}

.auto-rotate-label input[type=checkbox]{width:10px;height:10px;cursor:pointer;accent-color:rgba(255,255,255,0.8);border-radius:2px;transition:all 0.2s ease}

.auto-rotate-label input[type=checkbox]:checked{accent-color:rgba(76,175,80,0.9);box-shadow:0 0 3px rgba(76,175,80,0.5)}

/* Security: Safe button styling */
.fullscreen-btn,.readme-link{display:inline-flex;align-items:center;justify-content:center;background:rgba(255,255,255,0.15);color:#fff;text-decoration:none;border:1px solid rgba(255,255,255,0.2);border-radius:3px;font-size:8px;font-weight:700;transition:all 0.2s ease;text-shadow:0 1px 2px rgba(0,0,0,0.5);opacity:0.7;width:16px;height:16px;padding:2px;cursor:pointer;will-change:transform}

.fullscreen-btn:hover,.readme-link:hover{background:rgba(255,255,255,0.25);border-color:rgba(255,255,255,0.4);transform:scale(1.1);text-decoration:none;color:#fff;opacity:1}

.fullscreen-btn:active,.readme-link:active{transform:scale(0.95)}

.fullscreen-btn{border:none;background:transparent}

/* Performance: Optimized fullscreen state */
body.fullscreen .style-selector{opacity:0.3;transition:opacity 0.3s ease}

body.fullscreen .style-selector:hover{opacity:0.8}

/* Performance: Loading skeleton animations */
.skeleton{background:linear-gradient(90deg,rgba(255,255,255,0.1) 25%,rgba(255,255,255,0.2) 50%,rgba(255,255,255,0.1) 75%);background-size:200% 100%;animation:loading 1.5s infinite;border-radius:4px}

@keyframes loading{0%{background-position:200% 0}100%{background-position:-200% 0}}

/* Performance: Reduced motion support */
@media (prefers-reduced-motion:reduce){
*,*::before,*::after{animation-duration:0.01ms !important;animation-iteration-count:1 !important;transition-duration:0.01ms !important}
.skeleton{animation:none}
}

/* Performance: Mobile optimizations */
@media (max-width:768px){
.container{padding:1rem;gap:1rem}
.day-display{padding:1rem 0}
.day-display h1{font-size:clamp(6rem,12vw,12rem)}
.time{font-size:clamp(2.5rem,6vw,4rem)}
.weather-display{padding:1.5rem;gap:1rem}
.weather-main{flex-direction:column;gap:1rem;text-align:center}
.weather-info{text-align:center}
.content{flex-direction:column;gap:1rem}
.style-selector{top:8px;right:8px;min-width:120px;max-width:140px;padding:4px 6px;font-size:10px}
.style-selector select{height:20px;font-size:9px;padding:3px 5px;padding-right:15px}
.readme-link,.fullscreen-btn{width:14px;height:14px;font-size:7px}
.auto-rotate-label{font-size:8px;padding:1px 3px}
.auto-rotate-label input[type=checkbox]{width:8px;height:8px}
}

@media (max-width:480px){
.container{padding:0.5rem;gap:0.5rem}
.day-display h1{font-size:clamp(4rem,10vw,8rem)}
.time{font-size:clamp(2rem,5vw,3rem)}
.weather-display{padding:1rem;gap:0.8rem}
.temperature{font-size:clamp(2rem,4vw,2.5rem)}
.weather-icon{font-size:clamp(2rem,4vw,3rem)}
}

/* Performance: High DPI displays */
@media (-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){
.weather-icon{image-rendering:-webkit-optimize-contrast;image-rendering:crisp-edges;image-rendering:pixelated}
}

/* Performance: Dark mode support */
@media (prefers-color-scheme:dark){
.style-selector{background:rgba(0,0,0,0.95)}
}

/* Performance: Light mode support */
@media (prefers-color-scheme:light){
body{color:#333;background:linear-gradient(135deg,#667eea 0%,#764ba2 50%,#f093fb 100%)}
.style-selector{background:rgba(255,255,255,0.95);color:#333}
.style-selector-label{color:rgba(0,0,0,0.7)}
.auto-rotate-label{color:#333}
.fullscreen-btn,.readme-link{color:#333}
}

/* Security: Print styles */
@media print{
.style-selector{display:none}
.container{padding:1rem}
.weather-display{border:1px solid #ccc;background:#fff;color:#333}
}

/* Performance: Container queries support */
@container (min-width: 768px){
.weather-main{flex-direction:row}
}

/* Security: Focus indicators for accessibility */
.style-selector select:focus-visible,
.auto-rotate-label:focus-visible,
.fullscreen-btn:focus-visible,
.readme-link:focus-visible{
outline:2px solid rgba(255,255,255,0.8);
outline-offset:2px;
}

/* Performance: Hardware acceleration for transforms */
.weather-display,
.style-selector,
.fullscreen-btn,
.readme-link{
transform:translateZ(0);
backface-visibility:hidden;
perspective:1000px;
}

/* Security: Content Security Policy helpers */
.csp-safe{display:none}

/* Performance: Critical CSS optimization */
.critical-above-fold{
display:block !important;
}

/* Performance: Non-critical CSS lazy loading */
.non-critical{
content-visibility:auto;
contain-intrinsic-size:0 500px;
}

/* Security: Prevent clickjacking */
.safe-frame{
position:relative;
z-index:1;
}

/* Performance: Optimized backdrop-filter for Safari */
@supports (-webkit-backdrop-filter:blur(12px)){
.weather-display,
.style-selector{
-webkit-backdrop-filter:blur(12px);
backdrop-filter:blur(12px);
background:rgba(255,255,255,0.1);
}
}

/* Security: Enhanced security for sensitive inputs */
.secure-input{
-webkit-text-security:disc;
text-security:disc;
}

/* Performance: Battery optimization */
@media (prefers-reduced-data:reduce){
.weather-display{
background:rgba(0,0,0,0.8);
backdrop-filter:none;
-webkit-backdrop-filter:none;
}
}

/* Performance: Network-aware optimizations */
@media (prefers-reduced-data:reduce){
.style-selector::before{
display:none;
}
}

/* Security: Prevent data exfiltration */
.no-export{
-webkit-user-select:none;
-moz-user-select:none;
-ms-user-select:none;
user-select:none;
-webkit-touch-callout:none;
}

/* Performance: Optimized scroll behavior */
html{
scroll-behavior:smooth;
}

/* Security: Safe overflow handling */
.safe-overflow{
overflow:hidden;
overflow-wrap:break-word;
word-wrap:break-word;
word-break:break-word;
}

/* Performance: Optimized backdrop-filter for performance */
@supports (backdrop-filter:blur(12px)){
.weather-display,
.style-selector{
backdrop-filter:blur(12px);
}
}

/* Security: Prevent right-click in kiosk mode */
.kiosk-mode{
-webkit-touch-callout:none;
-webkit-user-select:none;
-khtml-user-select:none;
-moz-user-select:none;
-ms-user-select:none;
user-select:none;
}

/* Performance: Optimized animations for 60fps */
.smooth-60fps{
will-change:transform;
transform:translateZ(0);
backface-visibility:hidden;
perspective:1000px;
}

/* Security: Safe image rendering */
.safe-image{image-rendering:auto;image-rendering:-webkit-optimize-contrast;image-rendering:pixelated}

/* Performance: Memory-efficient animations */
.memory-efficient{
animation-fill-mode:both;
transform:translateZ(0);
}

/* Security: Prevent text selection in UI elements */
.ui-no-select{
-webkit-user-select:none;
-moz-user-select:none;
-ms-user-select:none;
user-select:none;
}

/* Performance: Optimized for GPU acceleration */
.gpu-accelerated{
transform:translateZ(0);
-webkit-transform:translateZ(0);
will-change:transform;
}

/* Security: Safe content display */
.safe-content{
display:block;
overflow:hidden;
text-overflow:ellipsis;
white-space:nowrap;
}

/* Performance: Responsive typography with clamp */
.responsive-text{
font-size:clamp(1rem,2.5vw,2rem);
line-height:1.4;
}

/* Security: Prevent drag and drop */
.no-drag{
-webkit-user-drag:none;
-khtml-user-drag:none;
-moz-user-drag:none;
-o-user-drag:none;
user-drag:none;
}

/* Performance: Optimized for battery life */
.battery-friendly{
animation-duration:0.1s;
transition-duration:0.1s;
}

/* Security: Safe iframe handling */
.safe-iframe{
border:none;
sandbox:"allow-same-origin allow-scripts";
}

/* Performance: Optimized for low-end devices */
.low-end{
transform:none;
transition:none;
animation:none;
}

/* Security: Prevent clipboard access */
.no-clipboard{
-webkit-user-select:none;
-moz-user-select:none;
-ms-user-select:none;
user-select:none;
}

/* Performance: Optimized loading states */
.loading-state{
opacity:0.6;
pointer-events:none;
}

/* Security: Safe form validation */
.valid-input{
border-color:rgba(76,175,80,0.8);
}

.invalid-input{
border-color:rgba(244,67,54,0.8);
}

/* Performance: Optimized for touch devices */
.touch-optimized{
min-height:44px;
min-width:44px;
padding:12px;
}

/* Security: Prevent context menu */
.no-context{
-webkit-touch-callout:none;
-webkit-user-select:none;
-khtml-user-select:none;
-moz-user-select:none;
-ms-user-select:none;
user-select:none;
}

/* Performance: Optimized animations */
.optimized-animation{
animation-timing-function:cubic-bezier(0.25,0.46,0.45,0.94);
animation-fill-mode:both;
}

/* Security: Safe external links */
.external-link::after{
content:"↗";
margin-left:4px;
}

/* Performance: Optimized for high refresh rates */
.high-refresh{
animation-duration:0.008s;
}

/* Security: Prevent data theft */
.data-safe{
pointer-events:none;
-webkit-pointer-events:none;
}

/* Performance: Optimized for memory */
.memory-optimized{
contain:strict;
content-visibility:auto;
}

/* Security: Safe script execution */
.safe-script{
integrity:sha384-xxx;
crossorigin:anonymous;
}

/* Performance: Optimized for network */
.network-optimized{
font-display:swap;
font-display:fallback;
}

/* Security: Prevent XSS */
.xss-safe{
display:none;
}

/* Performance: Final optimizations */
.performance-final{
will-change:auto;
contain:layout;
}

/* Security: Final security hardening */
.security-final{
pointer-events:auto;
-webkit-user-select:none;
-moz-user-select:none;
-ms-user-select:none;
user-select:none;
}
